[모던 자바스크립트 5장]

<표현식과 연산자>
(5-0)
자바스크립트의 표현식과 연산자 표기법은 C와 Java의 표현식 및 연산자 표기법과 매우 비슷하다.

차이점에 주목하면, 자바 스크립트에 래퍼 객체와 묵시적 타입 변환이 있다.

나는 c,c++,python 등의 언어를 접해 봤었기에, 이러한 언어들과의 차이점에 주목하여 이번 5장을 읽어보았다.

(5-1)
표현식 : 어떤 값으로 "평가" 되는 것이다. "평가" 한다는 것은 식의 값을 계산하는 것을 뜻한다.

간단한 숫자, 문자열도 표현식이고, 
변수, 배열 요소, 함수 호출 등등이 모두 표현식이다.

연산자 : 표현식을 조합하여 더욱 복잡한 표현식을 만들 수 있게 한다.
연산자의 종류는 피연산자의 개수에 따라 단항, 이항, 삼항 연산자가 있다. (삼항 연산자는 ?:뿐이다.)

연산자의 우선 순위 : 그룹 연산자"()"가 가장 우선적이고, 그 이후로 평가되는 다양한 우선순위가 있으며, 동등한 우선순위 (예를 들어 *,/,%)는 왼쪽->오른쪽 순으로 우선순위가 평가된다.

연산자의 부수 효과 : 변수 값을 바꾸지 않는 표현식(x+y)과 달리, x=y등의 대입 연산이 있는 표현식은 변수의 값을 바꾼다. ++x, y--등의 증, 감 연산자 등도 모두 이러한 변수의 값을 바꾸는 "부수 효과"가 있다고 한다.


(5-2)
산술 연산자 : 연산자 중에서도, 피연산자가 "숫자"인 연산자를 말한다.

기존의 내가 알고 있던 언어들과 다른 자바 스크립트 만의 언어 차이점은 다음과 같다.

1. 정수 끼리 나누어도 부동소수점이 된다.
2. 나머지 연산자 % 가 부동소수점에도 적용된다.
a%b 연산이 더 이상 정수끼리만 가능한 것이 아닌, a에서 b의 배수를 뺀 절댓값을 반환한다는 점이 차이점이다.
3. +연산은 두 피연산자를 비교하여, 하나가 문자열이면 다른 하나의 피연산자를 문자열로 바꾸어 합치기(sum) 계산을 한다.(문자열 연결 계산)

Math 객체 : 단순 산술 연산 말고도, 복잡한 sin, cos, PI등의 수학적 연산을 지원한다. Math.()의 메서드로 접근할 수 있다.

부동소수점과 정확도 문제 : 수치해석 수업에서 배웠던 정확도 문제에 대해 알 수 있었다. 32비트 체계보다 더 정확한 체계인 64비트 부동소수점에서도 오차가 발생한다는 점을 확인할 수 있었고, 비슷한 숫자의 뺄셈을 지양하는 방법으로 (유리화, 무리화 등의 방식으로) 연산을 하여야 오차를 줄일 수 있다는 점을 알 수 있다.


(5-3)
문자열 연결 : + 연산자는 피연산자 중 적어도 한개가 문자열 타입이면 문자열 연결 연산을 진행한다.(묵시적 변환) 그렇지 않다면 숫자 또는 NaN타입으로 바꾸어 더한다.

string 객체 : 문자열을 처리할 때, 자바 스크립트 시스템 내부적으로 임시로 string 객체를 생성하고, 처리가 끝난 후 삭제되어 사용자에게는 직접적으로 보이지 않는다.(자바 스크립트 언어의 특징인 "묵시적 변환"이 드러난다) 이를 "래퍼 객체(wrapper object)"라고 한다. 문자열, 숫자, 논리값들에게는 래퍼 객체가 각각 존재하고, null과 NaN(undefined)에는 래퍼 객체가 없다.

문자열을 배열 형태로 접근(읽고, 쓰기) : 대괄호 연산 string[3] 등을 이용하여 문자열의 각 글자에 대해 접근할 수 있으나, 수정할 수는 없다.


(5-4)
관계 연산자 : c, c++에서 봤던 관계 연산자(!=, <, >, >=)와 대부분 비슷하다. 하지만 일치 연산자에서 차이점을 발견하였다.

동일 연산자 : 
(==) 좌변과 우변의 피연산자가 같은지를 판별한다. 하지만 이 연산은 좌우 피연산자의 타입을 "같게" 만든 후(묵시적 타입 변환) 비교하기 때문에, 비교적 느슨한 비교라고 할 수 있다.

일치 연산자 :
(===) 나머지는 동일 연산자와 동일하지만, 피연산자의 타입을 같게 변환하지 않은 상태로 비교한다는 점에서, 다소 엄격하다는 차이점이 있다.
단, NaN은 그 어떤 값 과도 같지 않음을 알 수 있다. 흥미로운 사실은 NaNd은 x !== x를 만족하는 유일한 값임을 알 수 있다는 점이다.

논리 연산자 : 관계 연산자의 논리식과 결합하여 복잡한 논리를 정의한다. 논리곱(&&), 논리합(||), 부정(!)이 있다.


(5-5)
비트 연산 : 데이터 통신과 이진 파일을 처리할 때 사용하는 비트 연산, c,c++과 비슷한 양상이다.

(5-6)
자바 스크립트에서 사용할 수 있는 다른 기타 연산자에 대해 정리하였다.
in 연산자 : 객체 프로퍼티 포함 여부 확인
instanceof : 객체의 종류 확인
eval() : 인수로 받은 문자열을 자바스크립트 코드로 실행(연산자가 아닌 함수이다.)
"인수"로 받은 문자열을 "코드"형태의 인라인 함수로 인식하는 함수이다.
그만큼 하드코딩에 비해 속도가 느리다는 단점과, 보안에 취약하다는 단점이 있다.

typeof 연산자 : 함수 이외의 객체 유형에 대해 "object"를 반환하므로, 객체 유형을 파악할 수 없다. 이 객체 유형을 알기 위한 방법으로는 constructor 프로퍼티가 필요하다.


(5-7)
명시적 타입 변환 : 대부분의 자바 스크립트에서의 연산은 '묵시적 변환'을 하여 유연하게 계산한다는 점을 확인할 수 있다. 하지만 명시적 타입 변환이 필요할 때가 있다.(예를 들어, 변수 값을 출력할 때)

숫자를 문자열로 변환 : Number 객체의 메서드를 이용하기
모든 데이터 타입을 문자열로 변환 : String 함수 활용
논리값(Boolean) 타입으로 변환하기 : 
!!x (x 변수의 값의 타입을 논리 타입으로 바꾼 후, 참과 거짓을 평가함) == Boolean(x)